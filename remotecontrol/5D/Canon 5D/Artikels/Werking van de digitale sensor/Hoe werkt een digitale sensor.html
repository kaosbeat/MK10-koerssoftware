<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
 
<head>
<title>Hoe werkt een digitale camera sensor</title>
<LINK rel="stylesheet" TYPE="text/css" href="../style.css" media="all">
	<script src="../commons.js"></script>
	<script src="../wadda.js"></script>
	<script>
		var zoomr = null;
/*		var changeImage = function(url, highdef){
			if(zoomr)
				zoomr.dispose();
			var image = byId('image');
			image.src = url;
			image.title = highdef;
			zoomr = new Wadda(image);
		};
*/		
		listenOn(window, 'load', function(){
			var image = byId('image');
			zoomr = new Wadda(image);
		});
	</script>
</head>
 
<body>
 
<div id="content">
 	<H1>Hoe werkt een digitale camera sensor</H1>
	<p>Een digitale camera gebruikt een sensor oppervlak van enkele
	miljoenen kleine pixels om een zichtbaar beeld te construeren.  
	Op het moment dat de opname knop wordt ingedrukt begint de 
	belichting. Elke pixel kan gezien worden als een kleine badkuip 
	met een afloop. Zolang de belichting niet begonnen is, worden 
	de photonen die in de kuip vallen afgeleid via de afloop. Eens de 
	belichting start gaat de stop  in de afloop. Tot aan het einde 
	van de belichting worden alle photonen verzameld. Hun energie 
	wordt omgezet in een digitaal signaal dat de helderheid aangeeft 
	op dat specifiek punt in het beeld.</p>

		<div align="center">
			<table>
			<tr>
			<td width="220"><img src="images/tut_sensors_grid2 stub.png" 
			width="220" height="130" alt="Digital Camera Sensor"></td>
			<td width="244"><img src="images/tut_sensors_reservoirsidec stub.png" 
			width="244" height="130" alt="Light Cavities"></td>
			</tr>
			</table>
        	</div>


	<p>Elke kuip kan de hoeveelheid photonen (licht) omzetten in een 
	digitaal signaal. Wat de kleur is van het invallend licht kan echter 
	niet gemeten worden. Om toch een kleurbeeld te kunnen reconstrueren 
	plaats men een filter over elke kuip. Deze filter zal maar licht 
	doorlaten van &eacute;&eacute;n bepaalde kleur. Zo goed als alle digitale camera's 
	kunnen maar &eacute;&eacute;n bapaalde kleur opvangen in elke kuip, dwz dat ze 2/3 
	van alle invallend licht negeren. Dit wil eveneens zeggen dat de 
	camera de intensiteit van de 2 andere kleuren moet benaderen door naar 
	de naburige kuipen te kijken. De meest gebruikte filteropstelling is 
	het "Bayer masker". </p>

		<div align="center">
			<table>
			<tr valign="center">
			<td align="center"  width="350">Kleur Filter Masker<br>
			<img src="images/bayer-array.jpg" 
			alt="Bayer Masker" width="350" height="228">
			</td>
			<td width="40"></td>
			<td width="244">
			<img src="images/tut_sensors_reservoir1 stub.png" 
			width="244" height="130" alt="Kleur Filter"></td>
			</tr>
			<tr>
			<td align="center"  width="350">
			<p span class="note">
			Het kleurfilter masker (Bayer masker) is nodig opdat
			standaard sensoren een kleur beeld kunnen genereren.
			De lichtgevoelige receptoren zijn gevoelig voor
			het hele lichtspectrum. Zonder het filtermasker, 
			kan een sensor enkel een zwart/wit beeld produceren. 
			Met het filter detecteert elke sensor enkel rood, groen 
			of blauw licht.</p>
			</td>
			</tr>
			</table>
	       	</div>

	<p>Een Bayer masker bestaat uit wisselende rijen van rood-groen en groen-blauw 
	filters.  Het Bayer masker bevat dus 2 maal zoveel groene filters als rode of 
	blauwe filters.  Elke primaire kleur is niet evenredig vertegenwoordigd omdat
	het oog gevoeliger is voor groen licht dan voor rood en blauw licht. Door 
	2 maal zoveel groen licht op te vangen ziet het beeld er scherper uit dan het 
	geval zou zijn indien alle kleuren evenredig vertegenwoordigd zouden zijn. 
	Dit verklaart eveneens waarom er in het groen kanaal minder ruis is waar te 
	nemen dan in de 2 andere kanalen.</p>

	<div align="center">
		<img style="margin-right:30px;" src="images/Bayer IMG_2874 clean.png" alt="Originele scene">
		<img src="images/Bayer IMG_2874.png" alt="Wat de camera ziet" id="image" title="images/Bayer IMG_2874 big.png">
		<p span class="notenomargin">
		Niet alle digital cameras gebruiken een Bayer filter, Dit is
		echter wel de meest gebruikte techniek.  Een alternatief is 
		de Foveon sensor die gebruikt wordt in de Sigma's SD9 and
		SD10. Deze sensor meet de 3 kleuren op elke  pixel 
		locatie.  Sony camera's gebruiken een filter met 4 kleuren,
		nl. rood, groen, blauw en smaragd groen.</p>
	</div>
	
		<!--div xalign="center">
			<table>
			<tr>
			<td><img src="images/Bayer IMG_2874 clean.png" alt="Originele scene" width="375" height="249">
			</td>
			<td></td>
			<td><img src="images/Bayer IMG_2874.png" alt="Wat de camera ziet" id="image" title="images/Bayer IMG_2874 big.png"></td>
			</tr>
			</table>
			
			
			<br>
			<table>
			<tr>
			<td align="center" width="770">
			<p span class="notenomargin" align="center">
			Niet alle digital cameras gebruiken een Bayer filter, Dit is
			echter wel de meest gebruikte techniek.  Een alternatief is 
			de Foveon sensor die gebruikt wordt in de Sigma's SD9 and
			SD10. Deze sensor meet de 3 kleuren op elke  pixel 
			locatie.  Sony camera's gebruiken een filter met 4 kleuren,
			nl. rood, groen, blauw en smaragd groen.</p>
			</td>
			</tr>
			</table>
		</div-->

	<H2>Bayer de-mosa&iuml;ken</H2>
	<p>Bayer &quot;de-mosa&iuml;ken&quot; is het translatieproces van wat de camera
	ziet door de Bayer filter in een afbeelding die de volledige kleurinformatie
	bevat voor elke pixel. Hoe is dit mogelijk als de camera niet de volledige
	kleurinformatie voor elke pixel heeft? Het antwoord is: interpolatie. Ipv van
	elk locatie apart te beschouwen kunnen we elke 2x2 matrix zien als &eacute;&eacute;n pixel
	die alle kleurinformatie bevat.</p>

		<div align="center">
			<table>
			<tr>
			<td width="121"><img src="images/tut_sensors_bayer stub.png" alt="Bayer Filter" width="121" height="121"></td>
			<td align="center" width="60">&#8212;&gt;</td>
			<td width="121"><img src="images/tut_sensors_bayer2 stub.png" alt="Geconverteerde Bayer Filter" width="121" height="121"></td>
			</tr>
			</table>
		</div>
        	
	<p>Dit zou een goede oplossing zijn ware het niet dat we hierbij een groot
	deel van onze resolutie verliezen. Als de camera informatie in een 2x2 matrix
	in beschouwd als behorend tot &eacute;&eacute;n pixel hebben we zowel horizontaal als 
	vertikaal maar een halve resoltie. Door overlappende 2x2 matrixen te
	gebruiken kunnen we een hogere resolutie bereiken dan met een simpele 2x2
	matrix.</p>

		<div align="center">
			<table>
<tr><td>
			<table border="1" bordercolor="#DCDCDC""
			>
				<tr>
					<td width="141" height="141"><img src="images/tut_sensors_bayer1comb stub.png" width="121" height="121"></td>
					<td width="141" height="141"><img src="images/tut_sensors_bayer2comb stub.png" width="121" height="121"></td>
				</tr>
				<tr>
					<td width="141" height="141"><img src="images/tut_sensors_bayer3comb stub.png" width="121" height="121"></td>
					<td width="141" height="141"><img src="images/tut_sensors_bayer4comb stub.png" width="121" height="121"></td>
				</tr>
			</table>
			<table>
				<tr>
					<td width="110" height="284" 
					align="center">&#8212;&gt;</td>
					<td width="151" height="284"><img src="images/tut_sensors_bayerALL stub.png" width="151" height="151"></td>
				</tr>
			</table>
</td></tr>
			</table>
		</div>

	<p>Het resultaat is een beeld dat een vrij accurate weergave van de 
	werkelijkheid is in uniform gekleurde delen van het beeld. Maar met een 
	verlies aan resolutie in de randen wat zich uit in minder scherpte, minder
	detail en kleurartefacten bij de overgangen. 

		<div align="center">
			<table>
			<tr>
			<td align="center"  width="100">Origineel<br>
			<img src="images/Shades_framed_aa.jpg	" alt="Orgineel" width="100" height="100"></td>
			<td align="center" width="60">&#8212;&gt;</td>
			<td align="center" width="100">Gerecontrueerd<br>
			<img src="images/Shades_framed_dc.jpg" alt="Gerecontrueerd" width="100" height="100"></td>
			</tr>
			</table>
		</div>

	<p>Er bestaan andere de-mosa&iuml;k algoritmes die een iets grotere resolutie hebben 
	en minder artefacten vertonen. Sommige algoritmes passen hun strategie op lokaal 
	niveau aan, naargelang de inhoud van het beeld op die plaats.</p>

</body>
<html>